<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Firebase Deployment</title>
</head>
<body>
    <h1>Firebase Deployment</h1>

    <script>
        const API_URL = 'https://www.alphavantage.co/query?function=CURRENCY_EXCHANGE_RATE&from_currency=GBP&to_currency=JPY&apikey=4569DW30A4CF3VEE';

        // Function to fetch data from the API and store it in the database
        async function fetchDataAndStore() {
            try {
                const response = await fetch(API_URL);
                const priceData = await response.json(); // Convert response to JSON

                // Assuming you have a function to connect to the database
                const db = await connectDatabase(); // Assuming you have a function to connect to the database
                const collection = db.collection('gbpjpy'); // Collection name
                const result = await collection.insertOne(priceData);
                console.log(result); // Log the result
            } catch (err) {
                console.error(err); // Log any errors
            }
        }

        // Call the function when the page loads
        window.onload = fetchDataAndStore;
    </script>
</body>
</html>
